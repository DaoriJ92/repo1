<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 배열 선언만 하는 방법.
        // 배열 : 값을 순서로 관리 하는 방법
        let array = [];
        // json 선언만 하는 방법.
        // 값을 키(key)에 따라 관리 하는 방법
        let json = {};
        // 값을 미리 알고 있는 경우의 json 사용법
        json = {
            "key": "value",
            "k": "v",
            // 키값에는 따옴표('',"") 를 안써도 되지만
            // 다른언어에서 json을 만들어 불러올때 작동 되지 않으니
            // 습관적으로 사용 해 주는것이 좋다.
            k1: 'v1',
            "num": 123,
            "child": {
                "child_1": "value-1" // 변수로 사용할때는 - 사용하면 안됨
                // 변수 - 1 이 되어버림
            },
            "a1" : array,
            // "a1" :  "array",
            "fn" : function () {
                console.log('익명함수 실행');
            }
        };

        //꺼내는 방법
        console.log(json);
        console.log('' + json);
        //key 값을 그냥 적으면 된다.
        console.log(json.k);
        console.log('json["k"]', json['k']);   // 프로퍼티 처럼 접근
        console.log('json[\"k\"]', json['k']); // 배열처럼 접근

        // 대괄호 안에 문자가 들어간다는 것에 착안
        // 변수에 담아서 사용 가능
        let 숫자 = "num";
        console.log(json[숫자]);

        // let a = json.child
        // a.child
        // console.log(a.child);
        console.log(json.child.child_1);
        console.log(json['child']['child_1']);
        // 대괄호([])는 키값을 불러오는 연산자

        json.a1.push(123);
        json.a1.push(123);
        console.log(json.a1);


        // let a = function(){
        // console.log('익명함수 실행');
        // }
        // a();
        json.fn();

        //추가하는 방법
        json.a= "b";
        json.a= "b1";  // 값을 덮어쓰니 주의
        console.log(json); 
        json['c'] = 'd';
        console.log(json);        
        delete json.key;
        console.log(json);

        console.log(json.human);

        //모든 키값을 배열로 가져오는 방법
        let keys = Object.keys(json);
        console.log('keys', keys);
        // json[keys[0]];
        // json[keys[1]];
        for(let i=0; i<keys.length; i++){
            console.log('키: ', keys[i], '벨류 : ', json[keys[i]] );
        }

        //json을 문자열로 변환 하는 방법.

        let strJson = JSON.stringify(json);
        console.log(strJson);

        // json 문법으로 적힌 문자열을 json 객체로 변환
        // json으로 이루어진 배열도 변환 가능

        let json2 = JSON.parse(strJson);
        console.log(json2);

        let ajson = [];
        let json3 = { 'k1':'v1'};
        let json4 = { 'k2':'v2'};
        ajson.push(json3);
        ajson.push(json4);
        console.log(ajson);

        json2 = JSON.parse(strJson);
        console.log(json2);
        
        // json이나 json으로만 이루어진 배열이 아닌경우
        // {} 이거나 [{}] 의 형식이 아닌경우
        // JSON.parse('abc');
        // parse에서 오류 발생

    </script>
</head>

<body>

</body>

</html>