<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function addNum(x, y) {

            return x + y;
        }

        document.write(addNum(2, 3));

        // 함수의 정리

        /*      자바스크립트에서 함수의 정의는 function 키워드로 시작되며, 다음과 같은 구성요소를 가집니다.
                
                 1. 함수의 이름
                 2. 괄호 안에 쉼표(,) 로 구분되는 함수의 매개변수(parameter)
                 3. 중괄호 로 둘로쌓인 자바스크립트 실행문.
        
                 자바스크립트에서 함수를 정의하는 문법은 다음과 같습니다.
        
                 function  함수이름( 매개변수 1, 매개변수 2, ...){
                    함수 호출시 실행하고자 하는 실행문;
                 }
        
                 함수 이름은 함수를 구분하는 식별자.
                 매개변수란 함수를 호출할 때 인수로 전달 값을 함수 내부에서 사용할 수 있게 해주는 변수
        */
        function addNum(x, y) {
            document.write(x + y);
        }

        addNum(2, 3);

        /* 전달 인자는 순서대로 넘어오기 때문에
           하나만 오면 a에 들어감.
           그래서 b에만 전달 할 수 없음.
        */

        function sum(a, b) {
            console.log('a : ', a);
            console.log('b : ', b);

            let c;
            if (b) { // false란? : false, undefined, null, 0,''
                // true란?  : !==false, 즉  false가 아닌 것.
                // if (b == undefined) {
                c = a + b;
            } else {
                c = a + a;
            }

            console.log('c : ', c);
            console.log('isNaN : ', isNaN(c));
            return c;
        }

        sum(1, 2);
        sum('aaa', 3);
        // 전달인자를 하나만 줌
        sum(1);
        sum('a');
        // 아무것도 안 줌
        sum();
        // 전달인자를 3개 줌
        // 많이 줘도 두개만 사용.
        sum(1, 2, 5);

        function sum2(a, b) {
            if (a == undefined) a = 0;
            if (b == undefined) b = 0;

            console.log('a : ', a);
            console.log('b : ', b);
            return a + b;
        }
        // 전달 인자가 없는 경우 초기값 지정
        function sum3(a = 10, b = 20) {
            return a + b;
        }
        let result2 = sum3();
        console.log('sum3() 호출 결과 : ', result2); // 30
        console.log('sum3() 호출 결과 : ', sum3(50)); // 70
        console.log('sum3() 호출 결과 : ', sum3(50, 60)); // 110



        function sum4() {
            console.log(arguments);
        }
        sum4(1, 2, 3, 4);

        //
        //... : 스프레드 spread 연산자
        //      지정하지 않은 arguments 들을 배열처리 해줌
        //      마지막 전달인자에만 적용할 수 있다.
        //      마치 splice(2,4,'a', 'b' , 'c') 
        function sum5(start, count, ...elem) {
            console.log(start, count, elem);
        }
        sum5(1, 2, 3, 4, 5);

        let aa = [100, 200];
        console.log(aa);

        // console.log(100,200);
        console.log(...aa);

        // sum(aa[0]. aa[1]);
        sum(...aa);

        let a5 = "console.log(123)";
        eval(a5); // 입력 받은 텍스트를 자바스크립트로 실행 시켜주는 함수
        eval("let a" + 6 + '= 60')

        // js 의 변수에는 함수를 포함하여 무엇이든 담을 수 있다.
        // ex>>
        let sum55 = sum5;
        sum55(2, 3, 4, 5);
        let cLog = console.log;
        cLog(12345);


        function sum5() {
            console.log(' 올 뉴 sum5');
        }
        sum5();
        console.log('before', typeof sum5);
        // sum5 = 1;   // 함수명도 변수 취급하기 때문에
        // 이런 경우 sum5는 더 이상 함수가 아니고 1을 담은 변수가 된다.
        // sum5(1,2);  
        console.log('after', typeof sum5);

        function minus(x, y) {
            console.log('minus 실행');
            return x - y;
        }

        // 전달인자로 함수를 전달 할 수 있다.
        // 전달된 함수를 cb 즉 callback 함수 라고 한다.
        function study(cb,) {
            console.log('1~2시간 정도 공부 함');

            if (typeof cb == "function") {
                let remain = cb(10, 2)
                console.log('남은 공부 시간 ', remain);
            }
        }

        study(sum);

        // 익명 함수
        // 이름이 없다.
        let fn1 = function () { // 바로 사용 할 수 는 없지만 변수에서 선언은 가능.
            console.log('fn1 실행');
        }

        // 예를 들어
        // 이런 함수가 콜백으로 딱 한번밖에 안쓰이는 경우
        function times(a, b) {
            return a * b;
        }
        study(times); //이렇게 할 수 도있으나

        let times2 = times;
        study(times2);

        let times3 = function (a, b) {
            return a * b;
        }
        study(times3);

        study(function (a, b) {
            return a * b;
        })

        // setTimeout : 첫번째 전달인자로 실행 할 함수
        //              두번째 전달인자로 1/1000초 단위의 시간을 전달
        //              두전째 전달인자 시간 이후에 callback을 실행

        setTimeout(fn1, 3*1000);

        let idx = setTimeout(function (){
                 console.log('fn1 실행');
        }, 3*1000);
        // 24*60*30*1000
        console.log('idx : ', idx);
        // 예약내용 취소
        clearTimeout(idx);
            

        // 지정된 ms 이후로 반복해서 콜백함수 실행
        let idx2 = setInterval(function(){
            console.log('setInterval 실행');
        } , 1*1000);

        setTimeout(function(){
            console.log('setInterval 종료');
        clearInterval(idx2);
        }, 2.5*1000);
    </script>
</head>

<body>

</body>

</html>